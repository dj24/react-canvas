(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var i=n(1),h=n.n(i),r=n(25),c=n.n(r),v=n(3),l=n(12),a=n(27),o=n(8),u=function(e,t,n,i,h,r,c){e.beginPath(),e.rect(t,n,i,h),e.fillStyle=r,e.fill(),e.strokeStyle=c,e.stroke()},s=function(e,t,n,i,h,r,c,v){e.beginPath(),e.moveTo(t+v,n),e.lineTo(t+i-v,n),e.quadraticCurveTo(t+i,n,t+i,n+v),e.lineTo(t+i,n+h-v),e.quadraticCurveTo(t+i,n+h,t+i-v,n+h),e.lineTo(t+v,n+h),e.quadraticCurveTo(t,n+h,t,n+h-v),e.lineTo(t,n+v),e.quadraticCurveTo(t,n,t+v,n),e.closePath(),e.fillStyle=r,e.fill(),e.strokeStyle=c,e.stroke()},d=function(){var e=Object(i.useState)(null),t=Object(v.a)(e,2),n=t[0],h=t[1],r=Object(i.useRef)([]),c=Object(i.useRef)({x:0,y:0}),d=Object(i.useState)(null),g=Object(v.a)(d,2),b=g[0],j=g[1],m=Object(i.useState)(null),x=Object(v.a)(m,2),f=x[0],p=x[1],O=Object(i.useRef)(0),y=Object(i.useCallback)((function(e){if(n){var t=e.borderRadius,i=e.styles,h=e.fill,r=e.stroke,c=n.getContext("2d"),v=(new Date).getTime(),l=v-O.current;Object.values(i).forEach((function(e){e.advance(l)})),O.current=v,c.save();var a=i.x.get()+i.width.get()/2,o=i.y.get()+i.height.get()/2;c.translate(a,o),c.rotate(i.rotate.get()*Math.PI/180),c.translate(-a,-o),0===t?u(c,i.x.get()+(1-i.scale.get())*i.width.get()/2,i.y.get()+(1-i.scale.get())*i.height.get()/2,i.width.get()*i.scale.get(),i.height.get()*i.scale.get(),h,r):s(c,i.x.get()+(1-i.scale.get())*i.width.get()/2,i.y.get()+(1-i.scale.get())*i.height.get()/2,i.width.get()*i.scale.get(),i.height.get()*i.scale.get(),h,r,t*i.scale.get()),c.restore()}}),[n]);return Object(i.useEffect)((function(){if(n){var e,t=n.getContext("2d"),i=n.parentNode,h=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,i=t.height;j(n*window.devicePixelRatio),p(i*window.devicePixelRatio)}));if(h.observe(i),b&&f){return function n(){t.setTransform(window.devicePixelRatio,0,0,window.devicePixelRatio,0,0),t.clearRect(0,0,b*window.devicePixelRatio,f*window.devicePixelRatio),r.current.forEach(y),u(t,c.current.x-10,c.current.y-10,20,20,"red","blue"),e=window.requestAnimationFrame(n)}(),function(){h.unobserve(n),window.cancelAnimationFrame(e)}}}}),[n,y,f,b]),{dispatch:function(e){var t=Object(o.a)(r.current),n=e.index,i=e.styles,h=e.targets,c=Object(a.a)(e,["index","styles","targets"]);r.current[n]&&Object.entries(r.current[n].styles).forEach((function(e){var t=Object(v.a)(e,2),i=t[0],c=t[1],l=r.current[n].styles[i].get(),a=h[i];c.start({from:l,to:a})})),t[e.index]=Object(l.a)(Object(l.a)({},c),{},{styles:i}),r.current=t},objects:r,mousePosition:c,width:b,height:f,handleRef:function(e){e&&h(e)},canvas:n}},g=n(2),b=Object(i.createContext)(),j=function(){return Object(i.useContext)(b)},m=function(e){var t=e.children,n=e.style,i=d(),r=i.dispatch,c=i.objects,v=i.mousePosition,a=i.width,o=i.height,u=i.handleRef,s=i.canvas,j=h.a.Children.map(t,(function(e,t){return h.a.isValidElement(e)?h.a.cloneElement(e,Object(l.a)(Object(l.a)({},e.props),{},{index:t})):e})),m=Object.fromEntries(["onMouseDown","onMouseUp","onClick"].map((function(e){return[e,function(t){c.current.reverse().forEach((function(n){var i=n.styles,h=i.x,r=i.y,c=i.width,l=i.height;if(n[e]&&v.current.x>=h.get()&&v.current.x<=h.get()+c.get()&&v.current.y>=r.get()&&v.current.y<=r.get()+l.get())return n[e](t)}))}]}))),x={dispatch:r,objects:c.current,mousePosition:v.current,width:a/window.devicePixelRatio||null,height:o/window.devicePixelRatio||null};return Object(g.jsx)("div",{id:"canvas-container",style:n,children:Object(g.jsx)("canvas",Object(l.a)(Object(l.a)({width:a,height:o,style:{width:"".concat(100*window.devicePixelRatio,"%"),height:"".concat(100*window.devicePixelRatio,"%"),transformOrigin:"left top",transform:"scale(".concat(1/window.devicePixelRatio,")")},ref:u,onMouseMove:function(e){var t=e.clientX,n=e.clientY,i=s.getBoundingClientRect(),h=i.x,r=i.y;v.current={x:t-h,y:n-r},c.current.reverse().forEach((function(t){var n=t.styles,i=n.x,h=n.y,r=n.width,c=n.height;t.onMouseEnter&&!t.isEntered&&v.current.x>=i.get()&&v.current.x<=i.get()+r.get()&&v.current.y>=h.get()&&v.current.y<=h.get()+c.get()&&(t.isEntered=!0,t.onMouseEnter(e)),t.onMouseLeave&&t.isEntered&&v.current.x>=i.get()&&v.current.x<=i.get()+r.get()&&v.current.y>=h.get()&&v.current.y<=h.get()+c.get()&&(t.isEntered=!1,t.onMouseLeave(e))}))}},m),{},{children:Object(g.jsx)(b.Provider,{value:x,children:j})}))})},x=n(26),f=function(e){var t=e.top,n=e.right,i=e.left,h=e.bottom,r=e.width,c=void 0===r?0:r,v=e.height,l=void 0===v?0:v,a=j(),o=a.width,u=a.height,s=0,d=0,g=c,b=l;return o&&u&&(null!==i?s=i:null!==n&&(s=o-c-n),null!==t?d=t:null!==h&&(d=u-l-h),null!==i&&null!==n&&(g=o-i-n),null!==t&&null!==h&&(b=u-t-h)),{x:s,y:d,width:g,height:b}},p=function(e){var t=e.left,n=e.top,h=e.right,r=e.bottom,c=e.width,l=void 0===c?50:c,a=e.height,o=void 0===a?50:a,u=e.fill,s=void 0===u?"#A5B4FC":u,d=e.stroke,b=void 0===d?"#6366F1":d,m=e.scale,p=void 0===m?1:m,O=e.rotate,y=void 0===O?0:O,z=e.borderRadius,w=void 0===z?0:z,C=e.index,E=e.onMouseDown,R=e.onMouseUp,k=e.onMouseEnter,M=e.onMouseLeave,P=e.onClick,S=j().dispatch,I=f({top:n,left:t,right:h,bottom:r,width:l,height:o}),T=I.x,V=I.y,F=I.width,H=I.height,L=Object(x.useSpring)((function(){return{width:F,height:H,x:T,y:V,scale:p,rotate:y,config:{mass:1,tension:150,friction:40}}})),B=Object(v.a)(L,1)[0];return Object(i.useEffect)((function(){void 0!==C&&S({index:C,type:"rect",borderRadius:w,onMouseDown:E,onMouseUp:R,onMouseEnter:k,onMouseLeave:M,onClick:P,styles:B,fill:s,stroke:b,targets:{width:F,fill:s,stroke:b,height:H,x:T,y:V,scale:p,rotate:y}})}),[S,w,C,E,P,R,k,M,B,H,F,s,b,p,y,T,V]),Object(g.jsx)(i.Fragment,{})},O={width:"100%",display:"flex",flexDirection:"column",padding:16,borderBottom:"1px solid grey",boxSizing:"border-box"},y=function(){var e=Object(i.useState)(200),t=Object(v.a)(e,2),n=t[0],h=(t[1],Object(i.useState)(200)),r=Object(v.a)(h,2),c=r[0],l=(r[1],Object(i.useState)(20)),a=Object(v.a)(l,2),o=a[0],u=a[1],s=Object(i.useState)(20),d=Object(v.a)(s,2),b=d[0],j=d[1],x=Object(i.useState)(null),f=Object(v.a)(x,2),y=f[0],z=f[1],w=Object(i.useState)(null),C=Object(v.a)(w,2),E=C[0],R=C[1],k=Object(i.useState)(1),M=Object(v.a)(k,2),P=M[0],S=M[1],I=Object(i.useState)("#ff0000"),T=Object(v.a)(I,2),V=T[0],F=T[1],H=Object(i.useState)(0),L=Object(v.a)(H,2),B=L[0],D=L[1];return Object(g.jsxs)("div",{style:{display:"flex",alignItems:"center",background:"white",borderRadius:16,position:"absolute",overflow:"hidden",top:32,bottom:32,left:32,right:32,border:"1px solid grey"},children:[Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",borderRight:"1px solid grey",height:"100%"},children:[Object(g.jsxs)("div",{style:O,children:[Object(g.jsx)("label",{children:"Fill"}),Object(g.jsx)("input",{type:"color",value:V,onChange:function(e){return F(e.target.value)}}),Object(g.jsx)("input",{onChange:function(e){return F(e.target.value)},value:V})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsx)("label",{children:"Scale"}),Object(g.jsx)("input",{type:"range",min:"0.1",max:"2",value:P,onChange:function(e){return S(parseFloat(e.target.value))},step:"0.1"}),Object(g.jsx)("input",{type:"number",onChange:function(e){return S(parseFloat(e.target.value))},value:P})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsx)("label",{children:"Rotation"}),Object(g.jsx)("input",{type:"range",min:"0",max:"180",value:B,onChange:function(e){return D(parseInt(e.target.value))},step:"25"}),Object(g.jsx)("input",{type:"number",onChange:function(e){return D(parseInt(e.target.value))},value:B})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("input",{type:"checkbox",checked:null!==b,onChange:function(){return j((function(e){return null!==e?null:20}))}}),Object(g.jsx)("label",{children:"Left"})]}),Object(g.jsx)("input",{type:"range",min:"50",max:"200",value:b,disabled:null===b,onChange:function(e){return j(parseInt(e.target.value))},step:"25"}),Object(g.jsx)("input",{type:"number",disabled:null===b,onChange:function(e){return j(parseInt(e.target.value))},value:b})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("input",{type:"checkbox",checked:null!==y,onChange:function(){return z((function(e){return null!==e?null:20}))}}),Object(g.jsx)("label",{children:"Right"})]}),Object(g.jsx)("input",{type:"range",min:"50",max:"200",value:y,disabled:null===y,onChange:function(e){return z(parseInt(e.target.value))},step:"25"}),Object(g.jsx)("input",{type:"number",disabled:null===y,onChange:function(e){return z(parseInt(e.target.value))},value:y})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("input",{type:"checkbox",checked:null!==o,onChange:function(){return u((function(e){return null!==e?null:20}))}}),Object(g.jsx)("label",{children:"Top"})]}),Object(g.jsx)("input",{type:"range",min:"50",max:"200",value:o,disabled:null===o,onChange:function(e){return u(parseInt(e.target.value))},step:"25"}),Object(g.jsx)("input",{type:"number",disabled:null===o,onChange:function(e){return u(parseInt(e.target.value))},value:o})]}),Object(g.jsxs)("div",{style:O,children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("input",{type:"checkbox",checked:null!==E,onChange:function(){return R((function(e){return null!==e?null:20}))}}),Object(g.jsx)("label",{children:"Bottom"})]}),Object(g.jsx)("input",{type:"range",min:"50",max:"200",disabled:null===E,value:E,onChange:function(e){return R(parseInt(e.target.value))},step:"25"}),Object(g.jsx)("input",{type:"number",disabled:null===E,onChange:function(e){return R(parseInt(e.target.value))},value:E})]})]}),Object(g.jsx)(m,{style:{width:"100%",height:"100%",background:"white",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.24'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"},children:Object(g.jsx)(p,{left:b,right:y,top:o,bottom:E,scale:P,rotate:B,width:n,height:c,fill:V,borderRadius:16,onClick:function(){return F("red")},onMouseEnter:function(){return S(.9)},onMouseLeave:function(){return S(1)}},0)})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,i=t.getFID,h=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),h(e),r(e),c(e)}))};c.a.render(Object(g.jsx)(h.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),z()}},[[34,1,2]]]);
//# sourceMappingURL=main.904c2137.chunk.js.map