(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var r=n(1),h=n.n(r),i=n(25),c=n.n(i),v=n(3),l=n(17),o=n(27),a=n(8),u=function(e,t,n,r,h,i,c){e.beginPath(),e.rect(t,n,r,h),e.fillStyle=i,e.fill(),e.strokeStyle=c,e.stroke()},s=function(e,t,n,r,h,i,c,v){e.beginPath(),e.moveTo(t+v,n),e.lineTo(t+r-v,n),e.quadraticCurveTo(t+r,n,t+r,n+v),e.lineTo(t+r,n+h-v),e.quadraticCurveTo(t+r,n+h,t+r-v,n+h),e.lineTo(t+v,n+h),e.quadraticCurveTo(t,n+h,t,n+h-v),e.lineTo(t,n+v),e.quadraticCurveTo(t,n,t+v,n),e.closePath(),e.fillStyle=i,e.fill(),e.strokeStyle=c,e.stroke()},d=n(2),g=Object(r.createContext)(),b=function(){return Object(r.useContext)(g)},j=function(e){var t=e.children,n=e.style,i=Object(r.useState)(null),c=Object(v.a)(i,2),b=c[0],j=c[1],x=Object(r.useRef)([]),f=Object(r.useRef)({x:0,y:0}),m=Object(r.useRef)(0),p=Object(r.useCallback)((function(e){if(b){var t=e.borderRadius,n=e.styles,r=e.fill,h=e.stroke,i=b.getContext("2d"),c=(new Date).getTime(),v=c-m.current;Object.values(n).forEach((function(e){e.advance(v)})),m.current=c,i.save();var l=n.x.get()+n.width.get()/2,o=n.y.get()+n.height.get()/2;i.translate(l,o),i.rotate(n.rotate.get()*Math.PI/180),i.translate(-l,-o),0===t?u(i,n.x.get()+(1-n.scale.get())*n.width.get()/2,n.y.get()+(1-n.scale.get())*n.height.get()/2,n.width.get()*n.scale.get(),n.height.get()*n.scale.get(),r,h):s(i,n.x.get()+(1-n.scale.get())*n.width.get()/2,n.y.get()+(1-n.scale.get())*n.height.get()/2,n.width.get()*n.scale.get(),n.height.get()*n.scale.get(),r,h,t*n.scale.get()),i.restore()}}),[b]),O=Object(r.useState)(null),y=Object(v.a)(O,2),w=y[0],z=y[1],C=Object(r.useState)(null),k=Object(v.a)(C,2),R=k[0],E=k[1];Object(r.useEffect)((function(){if(b){var e,t=b.getContext("2d"),n=b.parentNode,r=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;z(n*window.devicePixelRatio),E(r*window.devicePixelRatio)}));if(r.observe(n),w&&R){return function n(){t.setTransform(window.devicePixelRatio,0,0,window.devicePixelRatio,0,0),t.clearRect(0,0,w*window.devicePixelRatio,R*window.devicePixelRatio),x.current.forEach(p),u(t,f.current.x-10,f.current.y-10,20,20,"red","blue"),e=window.requestAnimationFrame(n)}(),function(){r.unobserve(b),window.cancelAnimationFrame(e)}}}}),[b,p,R,w]);var M=h.a.Children.map(t,(function(e,t){return h.a.isValidElement(e)?h.a.cloneElement(e,Object(l.a)(Object(l.a)({},e.props),{},{index:t})):e})),S={dispatch:function(e){var t=Object(a.a)(x.current),n=e.index,r=e.styles,h=e.targets,i=Object(o.a)(e,["index","styles","targets"]);x.current[n]&&Object.entries(x.current[n].styles).forEach((function(e){var t=Object(v.a)(e,2),r=t[0],i=t[1],c=x.current[n].styles[r].get(),l=h[r];i.start({from:c,to:l})})),t[e.index]=Object(l.a)(Object(l.a)({},i),{},{styles:r}),x.current=t},objects:x.current,mousePosition:f.current,width:w/window.devicePixelRatio||null,height:R/window.devicePixelRatio||null};return Object(d.jsx)("div",{id:"canvas-container",style:n,children:Object(d.jsx)("canvas",{width:w,height:R,style:{width:"".concat(100*window.devicePixelRatio,"%"),height:"".concat(100*window.devicePixelRatio,"%"),transformOrigin:"left top",transform:"scale(".concat(1/window.devicePixelRatio,")")},ref:function(e){e&&j(e)},onMouseMove:function(e){var t=e.clientX,n=e.clientY,r=b.getBoundingClientRect(),h=r.x,i=r.y;f.current={x:t-h,y:n-i}},onMouseDown:function(e){x.current.reverse().forEach((function(t){var n=t.styles,r=n.x,h=n.y,i=n.width,c=n.height;if(t.onMouseDown&&f.current.x>=r.get()&&f.current.x<=r.get()+i.get()&&f.current.y>=h.get()&&f.current.y<=h.get()+c.get())return t.onMouseDown(e)}))},onMouseEnter:function(e){x.current.reverse().forEach((function(t){var n=t.styles,r=n.x,h=n.y,i=n.width,c=n.height;if(t.onMouseEnter&&f.current.x>=r.get()&&f.current.x<=r.get()+i.get()&&f.current.y>=h.get()&&f.current.y<=h.get()+c.get())return t.onMouseEnter(e)}))},onMouseLeave:function(e){x.current.reverse().forEach((function(t){var n=t.styles,r=n.x,h=n.y,i=n.width,c=n.height;if(t.onMouseLeave&&f.current.x>=r.get()&&f.current.x<=r.get()+i.get()&&f.current.y>=h.get()&&f.current.y<=h.get()+c.get())return t.onMouseLeave(e)}))},onClick:function(e){x.current.reverse().forEach((function(t){var n=t.styles,r=n.x,h=n.y,i=n.width,c=n.height;if(t.onClick&&f.current.x>=r.get()&&f.current.x<=r.get()+i.get()&&f.current.y>=h.get()&&f.current.y<=h.get()+c.get())return t.onClick(e)}))},onMouseUp:function(e){x.current.reverse().forEach((function(t){var n=t.styles,r=n.x,h=n.y,i=n.width,c=n.height;if(t.onMouseUp&&f.current.x>=r.get()&&f.current.x<=r.get()+i.get()&&f.current.y>=h.get()&&f.current.y<=h.get()+c.get())return t.onMouseUp(e)}))},children:Object(d.jsx)(g.Provider,{value:S,children:M})})})},x=n(26),f=function(e){var t=e.top,n=e.right,r=e.left,h=e.bottom,i=e.width,c=void 0===i?0:i,v=e.height,l=void 0===v?0:v,o=b(),a=o.width,u=o.height,s=0,d=0,g=c,j=l;return a&&u&&(null!==r?s=r:null!==n&&(s=a-c-n),null!==t?d=t:null!==h&&(d=u-l-h),null!==r&&null!==n&&(g=a-r-n),null!==t&&null!==h&&(j=u-t-h)),{x:s,y:d,width:g,height:j}},m=function(e){var t=e.left,n=e.top,h=e.right,i=e.bottom,c=e.width,l=void 0===c?50:c,o=e.height,a=void 0===o?50:o,u=e.fill,s=void 0===u?"#A5B4FC":u,g=e.stroke,j=void 0===g?"#6366F1":g,m=e.scale,p=void 0===m?1:m,O=e.rotate,y=void 0===O?0:O,w=e.borderRadius,z=void 0===w?0:w,C=e.index,k=e.onMouseDown,R=e.onMouseUp,E=e.onClick,M=b().dispatch,S=f({top:n,left:t,right:h,bottom:i,width:l,height:a}),P=S.x,I=S.y,T=S.width,V=S.height,F=Object(x.useSpring)((function(){return{width:T,height:V,x:P,y:I,scale:p,rotate:y,config:{mass:1,tension:150,friction:40}}})),H=Object(v.a)(F,1)[0];return Object(r.useEffect)((function(){void 0!==C&&M({index:C,type:"rect",borderRadius:z,onMouseDown:k,onMouseUp:R,onClick:E,styles:H,fill:s,stroke:j,targets:{width:T,fill:s,stroke:j,height:V,x:P,y:I,scale:p,rotate:y}})}),[M,z,C,k,E,R,H,V,T,s,j,p,y,P,I]),Object(d.jsx)(r.Fragment,{})},p={width:"100%",display:"flex",flexDirection:"column",padding:16,borderBottom:"1px solid grey",boxSizing:"border-box"},O=function(){var e=Object(r.useState)(200),t=Object(v.a)(e,2),n=t[0],h=(t[1],Object(r.useState)(200)),i=Object(v.a)(h,2),c=i[0],l=(i[1],Object(r.useState)(20)),o=Object(v.a)(l,2),a=o[0],u=o[1],s=Object(r.useState)(20),g=Object(v.a)(s,2),b=g[0],x=g[1],f=Object(r.useState)(null),O=Object(v.a)(f,2),y=O[0],w=O[1],z=Object(r.useState)(null),C=Object(v.a)(z,2),k=C[0],R=C[1],E=Object(r.useState)(1),M=Object(v.a)(E,2),S=M[0],P=M[1],I=Object(r.useState)("#ff0000"),T=Object(v.a)(I,2),V=T[0],F=T[1],H=Object(r.useState)(0),D=Object(v.a)(H,2),B=D[0],L=D[1];return Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",background:"white",borderRadius:16,position:"absolute",overflow:"hidden",top:32,bottom:32,left:32,right:32,border:"1px solid grey"},children:[Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",borderRight:"1px solid grey",height:"100%"},children:[Object(d.jsxs)("div",{style:p,children:[Object(d.jsx)("label",{children:"Fill"}),Object(d.jsx)("input",{type:"color",value:V,onChange:function(e){return F(e.target.value)}}),Object(d.jsx)("input",{onChange:function(e){return F(e.target.value)},value:V})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsx)("label",{children:"Scale"}),Object(d.jsx)("input",{type:"range",min:"0.1",max:"2",value:S,onChange:function(e){return P(parseFloat(e.target.value))},step:"0.1"}),Object(d.jsx)("input",{type:"number",onChange:function(e){return P(parseFloat(e.target.value))},value:S})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsx)("label",{children:"Rotation"}),Object(d.jsx)("input",{type:"range",min:"0",max:"180",value:B,onChange:function(e){return L(parseInt(e.target.value))},step:"25"}),Object(d.jsx)("input",{type:"number",onChange:function(e){return L(parseInt(e.target.value))},value:B})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("input",{type:"checkbox",checked:null!==b,onChange:function(){return x((function(e){return null!==e?null:20}))}}),Object(d.jsx)("label",{children:"Left"})]}),Object(d.jsx)("input",{type:"range",min:"50",max:"200",value:b,disabled:null===b,onChange:function(e){return x(parseInt(e.target.value))},step:"25"}),Object(d.jsx)("input",{type:"number",disabled:null===b,onChange:function(e){return x(parseInt(e.target.value))},value:b})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("input",{type:"checkbox",checked:null!==y,onChange:function(){return w((function(e){return null!==e?null:20}))}}),Object(d.jsx)("label",{children:"Right"})]}),Object(d.jsx)("input",{type:"range",min:"50",max:"200",value:y,disabled:null===y,onChange:function(e){return w(parseInt(e.target.value))},step:"25"}),Object(d.jsx)("input",{type:"number",disabled:null===y,onChange:function(e){return w(parseInt(e.target.value))},value:y})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("input",{type:"checkbox",checked:null!==a,onChange:function(){return u((function(e){return null!==e?null:20}))}}),Object(d.jsx)("label",{children:"Top"})]}),Object(d.jsx)("input",{type:"range",min:"50",max:"200",value:a,disabled:null===a,onChange:function(e){return u(parseInt(e.target.value))},step:"25"}),Object(d.jsx)("input",{type:"number",disabled:null===a,onChange:function(e){return u(parseInt(e.target.value))},value:a})]}),Object(d.jsxs)("div",{style:p,children:[Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("input",{type:"checkbox",checked:null!==k,onChange:function(){return R((function(e){return null!==e?null:20}))}}),Object(d.jsx)("label",{children:"Bottom"})]}),Object(d.jsx)("input",{type:"range",min:"50",max:"200",disabled:null===k,value:k,onChange:function(e){return R(parseInt(e.target.value))},step:"25"}),Object(d.jsx)("input",{type:"number",disabled:null===k,onChange:function(e){return R(parseInt(e.target.value))},value:k})]})]}),Object(d.jsx)(j,{style:{width:"100%",height:"100%",background:"white",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.24'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"},children:Object(d.jsx)(m,{left:b,right:y,top:a,bottom:k,scale:S,rotate:B,width:n,height:c,fill:V,borderRadius:16,onClick:function(){return F("red")}},0)})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,h=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),h(e),i(e),c(e)}))};c.a.render(Object(d.jsx)(h.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.5d268eb7.chunk.js.map